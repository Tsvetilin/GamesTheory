<h1 style="text-align:center;">Теория на игрите<br/>Теория</h1>

***Дефиниция: (равновесие по Неш)*** Нека $x_i \in X_i$ е стратегия на играч $i$ и $P_i(x_1, \dots, x_n) $ е функция на печалба на играч $i$
$$(\overline{X_1}, \dots, \overline{X_n}) \text{ е равновесие по Неш} \\ \Longleftrightarrow \\ P_i(\overline{x_i}, \dots,\overline{x_{i-1}},x_i,\overline{x_{i+1}},\dots, \overline{x_n}) \leq P_i(\overline{x_i},\dots, \overline{x_n}) , \forall i=\overline{1,n}$$
(тоест никой не би променил най-оптималната си стратегия при фиксирани стратегии на другите играчи)

***Дефиниция: (игра с нулева сума)*** Една игра е с нулева сума, ако за фиксиран вектор от стратегии $X$ е изпълнено, че $\sum\limits_{i=1}^n P_i(x) = 0$
(тоест е затворена система, играчите само си разпределят наградата от собствените залози)

### I Антагонистична игра между двама играчи с нулева сума

Нека $(\overline{x},\overline{y})$ e равновесие по Неш.
$P(x,y)$ - печалбата на първия играч
$Q(x,y)$ - печалбата на втория играч
Понеже играта е с нулева сума, имаме $P(x,y) = - Q(x,y)$

Тогава 
$$ 1) P(\overline{x},\overline{y}) \geq P(x,\overline{y}) \\
2) Q(\overline{x},\overline{y}) \geq Q(\overline{x},y) \\
-P(\overline{x},\overline{y}) \geq -P(\overline{x},y) \\
P(\overline{x},\overline{y}) \leq P(\overline{x},y)$$

$\Longrightarrow P(x,\overline{y}) \leq P(\overline{x},\overline{y}) \leq P(\overline{x},y)$
(това е условие за седлова точка - max по х, min по y)

Ако имаме матрична игра с матрица $A=(a_{ij})_{m\times n}$, то $a_{ij} = P(x_i,y_j)$

<div style="page-break-after: always;"></div>

***Дефиниция: (цена на игра)*** 
$$v_{II} = \min_{y \in Y}(\max_{x \in X} P(x,y))\\
v_{I} = \max_{x \in X}(\min_{y \in Y} P(x,y))$$

Ако $v_{II} = v_{I} = v$, то $v$ е цена на играта и $v=P(\overline{x},\overline{y})$
$v$ е гарантираната печалба на първия играч.

***Твърдение:*** $v_{I} \leq v_{II}$

Фиксираме $x_0 \in X, y_0 \in Y$ и тогава е вярно, че
$$\begin{align*} P(x_0,y) &\leq P(x_0,y_0) \leq P(x,y_0)\\
\min_{y\in Y}P(x_0,y) &\leq P(x_0,y_0) \leq \max_{x \in X}P(x,y_0)\\
\min_{y\in Y}P(x,y) &\leq \max_{x \in X}P(x_0,y)\\
\max_{x_0 \in X}(\min_{y\in Y}P(x,y)) &\leq \min_{y_0 \in Y}(\max_{x \in X}P(x_0,y))\\
v_{I} &\leq v_{II}
\end{align*}
$$

***Твърдение:*** Една игра има цена тогава и само тогава когато има седлова точка (равновесие по Неш)

#### Смесени стратегии

Може при фиксирани стратегии играта да няма равновесие, тоест играчите да не могат да си изберат стратегия, с която да играят всеки път.

При смесените стратегии, всяка от наличните стратегии се избира с вероятност.

Например, ако $x=(\frac{1}{2},\frac{1}{3},\frac{1}{6},0)$ е стратегията на първия играч, то това означава, че той ще играе първата стратегия с вероятност 1/2, втората стратегия с вероятност 1/3, третата с вероятност 1/6 и четвъртата няма да играе никога.

Трябва задължително за даден вектор с вероятности за стратегия на играч да е изпълнено, че $\sum\limits_{x=1}^n x_i=1$ и $x_i \geq 0$

Чиста стратегия $i$ е еквивалентно на записано със смесени стратегии ${x=(0,\dots,0,1,0,\dots,0)}$ тоест $x_i = 1, x_j = 0$ 

Тогава имаме, че $P(x,y) = \sum\limits_{i=1}^m \sum\limits_{j=1}^n a_{ij} x_i y_j$

Записът $P(x,j)$ означава смесена стратегия $x$ на първия играч и чиста стратегия $j$ на втория.

***Свойство:*** 
Ако $\overline{x_{i_0} }\gt 0 \Longrightarrow P(i_0,\overline{y}) = P(\overline{x},\overline{y}) = v$
Ако $\overline{y_{j_0} }\gt 0 \Longrightarrow P(\overline{x},j_0) = P(\overline{x},\overline{y}) = v$


***Свойство:*** 
Ако $(\overline{x_1},\overline{y_1})$ и $(\overline{x_2},\overline{y_2})$ са равновесия по Неш, то ${P(\overline{x_1},\overline{y_1})=P(\overline{x_1},\overline{y_2}) = P(\overline{x_2},\overline{y_1}) = P(\overline{x_2},\overline{y_2})}$

***Свойство:*** Всяка игра в смесени стратегии има цена.

#### Симетрични игри

$a_{ij} = - a{ji} \rightarrow a_{ii} = 0$

***Свойство:***  Цената на симетрична игра винаги е 0


***Свойство:***  Равновесието на Неш на симетрична игра е от вида  $(\overline{x},\overline{x})$


#### Правило за премахване на ред и стълб

Ако фиксираме ред $i_0$ и за произволни $\alpha_i$ е изпълнено, че 

$\begin{cases} \sum \alpha_i a_i \geq a_{i_0}\\ \sum \alpha_i =1 \\ \alpha_i \geq 0 \end{cases}$

то можем да премахнем ред $i_0$ ($a_{i_0}$), тоест $\overline{x_{i_0}} = 0$

Ако фиксираме стълб $j_0$ и за произволни $\beta_i$ е изпълнено, че 

$\begin{cases} \sum \beta_i b_i \leq b_{j_0}\\ \sum \beta_i =1 \\ \beta_i \geq 0 \end{cases}$

то можем да премахнем стълб $j_0$ ($b_{j_0}$), тоест $\overline{y_{j_0}} = 0$

### II Антагонистична игра между двама играчи  - биматрична игра

Имаме $A_{m\times n}, B_{m\times n}$
Нека $P(x,y) $ e функция на печалба на първия играч
Нека $Q(x,y) $ e функция на печалба на втория играч

***Дефиниция: (равновесие по Неш)*** $(\overline{x}, \overline{y})$ е равновесие по Неш, ако
$$ 1) P(\overline{x},\overline{y}) \geq P(x,\overline{y}) \\
2) Q(\overline{x},\overline{y}) \geq Q(\overline{x},y)$$
където 
$P(x,y) = x^TAy = \sum\limits_{i=1}^m \sum\limits_{j=1}^n a_{ij} x_i y_j$
$Q(x,y) = x^TBy = \sum\limits_{i=1}^m \sum\limits_{j=1}^n b_{ij} x_i y_j$



### III Кооперативни игри с двама играчи - биматрични

Заедно избират какви стратегии да играят, за да максимизират печалбата си.

$$ \begin{pmatrix} P(x,y) \\ Q(x,y) \end{pmatrix} = \sum\limits_{i=1}^m \sum\limits_{j=1}^n \begin{pmatrix} a_{ij} \\ b_{ij} \end{pmatrix} x_i y_j = \sum\limits_{i,j} p_{ij} \begin{pmatrix}  a_{ij} \\ b_{ij} \end{pmatrix}$$

Нека $S$ е затворено изпъкнало множество, образувано от линиите, свързващи точките $\{(a_{ij},b_{ij})\}$ от матриците $A$ и $B$ на двамата играчи
Нека $$v^* = \min_{y \in Y}(\max_{x \in X} Q(x,y)) \text{ и } u^* = \max_{x \in X}(\min_{y \in Y} P(x,y))$$

Тогава $(\overline{u},\overline{v})$ e решение на $(S,(u^*,v^*))$ и притежава следните свойства:

- $(\overline{u},\overline{v}) \in S$
- $(\overline{u},\overline{v}) \geq (u^*,v^*)$
- $ \nexists(u,v)\in S : \begin{cases} u \gt \overline{u} \\ v \gt \overline{v}\end{cases}$
- ако $(\overline{u},\overline{v}) \in T \subset S$ е решение на $(S,(u^*,v^*))$, то е решение и на $(T,(u^* , v^*))$
- ако $L(u,v)=(u',v')$ - положителна биективна линейна трансформация, то щом $(\overline{u},\overline{v})$ e решение на $(S,(u^*,v^*))$, значи $L(\overline{u},\overline{v})$ e решение на $(L(S),L(u^*,v^*))$
- $(u,v) \in S \rightarrow (v,u) \in S$, решението на $(S,(u^*,u^*))$ е от вида $(\overline{u},\overline{u})$

Съществува единствена точка, която удовлетворява горните свойства и е решение на задачата
$\begin{cases} (u-u^*)(v-v^*) \rightarrow \max \\ u\geq u^* \\ v\geq v^*  \\ (u,v)\in S \end{cases}$

### IV Кооперативни игри с повече от двама играчи

$N=\{1,\dots, n\}$ - играчи
***Дефиниция: (коалиция)*** Произволно непразно подмножество $S$ на $N$ се нарича коалиция.

***Дефиниция: (характеристична функция)*** $v$ е характеристична функция на игра с $n$ играчи, дефинирана от подмножество на $N$ като $\forall S \subseteq N $ показва максималната цена на игра с двама играчи $S$ и $N \setminus S$

$$v(S) = \max_{x \in S} \min_{y \in N \setminus S} P(x,y)$$

***Свойство:***  Характеристичната функция $v(S)$ има следните свойства:
- $v(\emptyset) = 0$
- $v(S \cup T) \geq v(S) + v(T)$ ако $S \cap T = \emptyset$

***Дефиниция: (делба)*** Делба на игра с $n$ играчи е вектор $x \in \mathbb{R}^n$, показващ на кой играч колко ще дадем и има свойствата $\begin{cases} x_i \geq v(\{i\}) \\ \sum\limits_{i=1}^n x_i = v(N) \end{cases}$

***Дефиниция: (множество от делби)*** ${\Delta(v) = E(v) = \{ x \in \R^n |\;\; x_i \geq v(\{i\}) \;,\;\;\; \sum x_i = v(N) \}}$ е множеството от делбите за дадена игра 

***Дефиниция: (симетрична игра)*** $v$ не зависи от елементите на коалицията, а само от броя им

***Дефиниция: (доминирана делба)*** делбата $x$ е по-лоша от делбата $y$ за членовете на коалицията $S$ и казваме, че $x$ се доминира от $y$ : $x \underset{S}{<} y$, ако $x_i < y_i, i\in S$ и $\sum\limits_{i \in S} y_i \leq v(S)$ 

***Дефиниция: (ядро на игра)*** Всички недоминируеми делби: $x \in C(v) \Leftrightarrow \nexists y \underset{S}{>} x$

***Дефиниция: (проста игра)*** Една игра е проста, ако $v(S) \in \{0,1\}, \;\;\forall S \subseteq R$

***Дефиниция: (изоморфни игри)*** Две игри $u$ и  $v$ са изоморфни, ако съществуват биекция ${f: E(u) \rightarrow E(v)}$, такива, че  за всяко ${x \in E(u) \ni E(v)}$ и ${S \subset N}$ имаме ${y\underset{S}{>} x \Longleftrightarrow f(y) \underset{S}{>} f(x)}$

***Дефиниция: (еквивалентни игри)*** Две игри $u$ и  $v$ са еквивалентни, ако съществуват $r>0, \alpha_1,\dots,\alpha_n$, такива, че $v(S) = r. u(S) + \sum\limits_{i \in S} \alpha_i$ за всяка коалиция $S \subseteq N$ 

***Дефиниция: (нормализирана игра)*** Играта $v$ е в $(0,1)$ нормализация, ако $v(\{i\})=0, v(N)=1$

***Теорема: (условие за  ядро)*** $x \in C(u) \Longleftrightarrow \sum\limits_{i \in S} x_i \geq u(S)$ за $S \subset N$ и $\sum\limits_{i=1}^n x_i = u(N)$

***Дефиниция: (съществена игра)*** Една игра е съществена, ако $v(N) \gt \sum\limits_{i=1}^n v(\{i\})$

***Дефиниция: (игра с постоянна сума)*** Една игра е с постоянна сума (или още нулева), ако $v(N) = v(S) + v(N \setminus S)$

***Твърдение:***  Ядрото на всяка симетрична игра е празно

***Твърдение:***  Ядрото на всяка съществена игра с постоянна сума е празно

***Твърдение:***  Всяка съществена игра е еквивалентна на точно една (0,1)-нормализирана игра

***Дефиниция: (N-M решение)*** Едно множество делби $V$ е N-M решение, ако за множеството имаме:
- вътрешна устойчивост: $x,y \in V \Rightarrow y \not\gt_S x$
- външна устойчивост: $x \notin V \Rightarrow  \exists y \in V : \;\;\; y \gt_S x $

***Теорема: (N-M решение)*** Нека $u$ е (0,1)-нормализирана игра и $S$ е коалиция, такава, че $u(S) = 1$ и $u(T)=0$ за всяко $T \subset S$. Тогава $V_S = \{ x \in E(u) | x_i = 0 \text{ за } i \notin S \}$ е N-M решение  

***Дефиниция: (носител на игра)*** Една коалиция $T$ е носител на играта $v$, ако ${v(S) = v(S \cap T)}$ за произволна коалиция $S$

***Дефиниция: (вектор на Шепли)*** $\varphi(v)$ е вектор на Шепли на играта $v$, ако показва кой играч колко ще получи и определя еднозначно делбата на всяка кооперативна игра $v$ (другаде: $\varphi(v)$ е единствената делба, която е N-M решение)
- $\sum\limits_{i \in S} \varphi_i(v) = v(S)$
- $\varphi_{\pi_i}(\pi v) = \varphi_i(v)$
- $\varphi(v+w) = \varphi(v) + \varphi(w)$ и $\varphi(\alpha v) = \alpha \varphi(v)$

Където $\pi: N \to N$ е пермутация на $N$
- $\pi v(S) = v(\pi^{-1}(S))$

***Твърдение: (вектор на Шепли)*** $\varphi_i(u) = \sum\limits_{i \in T \subseteq N} \dfrac{(t-1)! (n-t)!}{n!} (u(T)-u(T \setminus{i}))$